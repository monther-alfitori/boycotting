{% extends 'base.html' %}
{% block content %}
{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>boycotters For Gaza</title>
    <script src="https://unpkg.com/htmx.org"></script>
</head>
<style>

</style>
<body>
<div id="forplaceholder">
    {% include 'components/loader.html' %}
    {% include 'components/header.html' %}

    
    <div class="boycotter">
        <div class="interface">
            <iframe src="https://www.google.com/maps/embed?pb=!1m17!1m12!1m3!1d7759.017885788728!2d13.285322535647088!3d32.83540121810326!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m2!1m1!2zMzLCsDUwJzA0LjUiTiAxM8KwMTcnMzAuNiJF!5e0!3m2!1sen!2sly!4v1729790398576!5m2!1sen!2sly" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
        </div>
        <div class="items">
            <div class="item">
                <div class="right">
                    <img src="/media/{{boycotter.logo}}/" alt="">
                </div>
                <div class="left">
                    <h1>{{boycotter.name}}</h1>
                    <a href="tel:{{boycotter.number}}" target="_blank"><p>{{boycotter.number}}</p></a>
                    <a href="{{boycotter.location}}" target="_blank"><p class="location">{{boycotter.location}}</p></a>
                    <div class="links">
                        {% for link in boycotter.social_set.all %}
                            {% if link.platform == 'Facebook' %}
                            <a href="{{link.link}}" target="_blank"><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGZpbGw9IiMwMDAwMDAiIGQ9Ik05LjYwMiAyMS4wMjZ2LTcuMjc0SDYuODE4YS41NDUuNTQ1IDAgMCAxLS41NDUtLjU0NVYxMC4zM2EuNTQ1LjU0NSAwIDAgMSAuNTQ1LS41NDVoMi43NzNWN2E0LjU0NyA0LjU0NyAwIDAgMSA0Ljg2LTQuOTg5aDIuMzJhLjU1Ni41NTYgMCAwIDEgLjU1Ny41NDZ2Mi40MzZhLjU1Ny41NTcgMCAwIDEtLjU1Ny41NDVoLTEuNDVjLTEuNTY2IDAtMS44NjcuNzQyLTEuODY3IDEuODMzdjIuNDEzaDMuNzIzYS41MzMuNTMzIDAgMCAxIC41NDYuNjAzbC0uMzM3IDIuODg4YS41NDUuNTQ1IDAgMCAxLS41NDUuNDc2aC0zLjM2NHY3LjI3NGEuOTYuOTYgMCAwIDEtLjk3NS45NzRoLTEuOTM3YS45Ni45NiAwIDAgMS0uOTYzLS45NzQiLz48L3N2Zz4=" alt=""></a>
                            {% elif link.platform == 'Instagram' %}
                            <a href="{{link.link}}" target="_blank"><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiB2aWV3Qm94PSIwIDAgMTYgMTYiPjxwYXRoIGZpbGw9IiMwMDAwMDAiIGQ9Ik04IDUuNjdDNi43MSA1LjY3IDUuNjcgNi43MiA1LjY3IDhTNi43MiAxMC4zMyA4IDEwLjMzUzEwLjMzIDkuMjggMTAuMzMgOFM5LjI4IDUuNjcgOCA1LjY3TTE1IDhjMC0uOTcgMC0xLjkyLS4wNS0yLjg5Yy0uMDUtMS4xMi0uMzEtMi4xMi0xLjEzLTIuOTNjLS44Mi0uODItMS44MS0xLjA4LTIuOTMtMS4xM0M5LjkyIDEgOC45NyAxIDggMXMtMS45MiAwLTIuODkuMDVjLTEuMTIuMDUtMi4xMi4zMS0yLjkzIDEuMTNDMS4zNiAzIDEuMSAzLjk5IDEuMDUgNS4xMUMxIDYuMDggMSA3LjAzIDEgOHMwIDEuOTIuMDUgMi44OWMuMDUgMS4xMi4zMSAyLjEyIDEuMTMgMi45M2MuODIuODIgMS44MSAxLjA4IDIuOTMgMS4xM0M2LjA4IDE1IDcuMDMgMTUgOCAxNXMxLjkyIDAgMi44OS0uMDVjMS4xMi0uMDUgMi4xMi0uMzEgMi45My0xLjEzYy44Mi0uODIgMS4wOC0xLjgxIDEuMTMtMi45M2MuMDYtLjk2LjA1LTEuOTIuMDUtMi44OW0tNyAzLjU5Yy0xLjk5IDAtMy41OS0xLjYtMy41OS0zLjU5UzYuMDEgNC40MSA4IDQuNDFzMy41OSAxLjYgMy41OSAzLjU5cy0xLjYgMy41OS0zLjU5IDMuNTltMy43NC02LjQ5Yy0uNDYgMC0uODQtLjM3LS44NC0uODRzLjM3LS44NC44NC0uODRzLjg0LjM3Ljg0Ljg0YS44LjggMCAwIDEtLjI0LjU5YS44LjggMCAwIDEtLjU5LjI0WiIvPjwvc3ZnPg==" alt=""></a>
                            {% elif link.platform == 'X' %}
                            <a href="{{link.link}}" target="_blank"><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiB2aWV3Qm94PSIwIDAgNTEyIDUxMiI+PHBhdGggZmlsbD0iIzAwMDAwMCIgZD0iTTM4OS4yIDQ4aDcwLjZMMzA1LjYgMjI0LjJMNDg3IDQ2NEgzNDVMMjMzLjcgMzE4LjZMMTA2LjUgNDY0SDM1LjhsMTY0LjktMTg4LjVMMjYuOCA0OGgxNDUuNmwxMDAuNSAxMzIuOXptLTI0LjggMzczLjhoMzkuMUwxNTEuMSA4OGgtNDJ6Ii8+PC9zdmc+" alt=""></a>
                            {% elif link.platform == 'Tiktok' %}
                            <a href="{{link.link}}" target="_blank"><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGZpbGw9IiMwMDAwMDAiIGQ9Ik0yMC4zNTcgNy43NWEuNTM3LjUzNyAwIDAgMC0uNDk1LS41MTZhNC43IDQuNyAwIDAgMS0yLjQxNS0uOTM4YTQuODUgNC44NSAwIDAgMS0xLjg4Ny0zLjNhLjU0LjU0IDAgMCAwLS41MTctLjQ5NmgtMi4xMDhhLjUxNy41MTcgMCAwIDAtLjUxNy41Mjd2MTIuNTlhMi43OTQgMi43OTQgMCAwIDEtMi45NzQgMi43NjJhMi44MTUgMi44MTUgMCAwIDEtMi41MS0zLjcxMUEyLjgzNiAyLjgzNiAwIDAgMSA5LjkzIDEyLjc4YS41MDYuNTA2IDAgMCAwIC41NTgtLjUwNlY5LjgwN3MtLjg5Ni0uMDYzLTEuMjAyLS4wNjNhNS4yNyA1LjI3IDAgMCAwLTQuMTAxIDEuOTNhNS44IDUuOCAwIDAgMC0xLjM3IDIuNTJhNS44NiA1Ljg2IDAgMCAwIDIuMTQgNi4wNzJBNS45MyA1LjkzIDAgMCAwIDkuNTkxIDIxLjVxLjQ1MSAwIC44OTYtLjA2M0E1Ljk1IDUuOTUgMCAwIDAgMTMuOCAxOS43OGE1Ljg0IDUuODQgMCAwIDAgMS43NS00LjEzM1Y4LjcxYTcuODQgNy44NCAwIDAgMCA0LjIxOCAxLjYxM2EuNTE3LjUxNyAwIDAgMCAuNTQ4LS41MjdWNy43NTF6Ii8+PC9zdmc+" alt=""></a>
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    </div>



    <!-- boycotterShares Section -->
    <div class="boycotterShares">
       <div class="social">
            {% for share in boycotter.share_set.all %}
            {% if share.platform == 'Instagram' %}
            <a href="{{share.link}}" target="_blank">
            <div class="post instagramPost">
                <div class="top">
                    <div class="right">
                        <div class="avatar">
                            <img src="/media/{{share.brand.logo}}/" alt="">
                        </div>
                        <div class="info">
                            <h3>{{share.brand.name}}</h3>
                            <p>{{share.platform}}</p>
                        </div>
                    </div>
                    <div class="left">
                        <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiB2aWV3Qm94PSIwIDAgMTYgMTYiPjxwYXRoIGZpbGw9IiMwMDAwMDAiIGQ9Ik04IDUuNjdDNi43MSA1LjY3IDUuNjcgNi43MiA1LjY3IDhTNi43MiAxMC4zMyA4IDEwLjMzUzEwLjMzIDkuMjggMTAuMzMgOFM5LjI4IDUuNjcgOCA1LjY3TTE1IDhjMC0uOTcgMC0xLjkyLS4wNS0yLjg5Yy0uMDUtMS4xMi0uMzEtMi4xMi0xLjEzLTIuOTNjLS44Mi0uODItMS44MS0xLjA4LTIuOTMtMS4xM0M5LjkyIDEgOC45NyAxIDggMXMtMS45MiAwLTIuODkuMDVjLTEuMTIuMDUtMi4xMi4zMS0yLjkzIDEuMTNDMS4zNiAzIDEuMSAzLjk5IDEuMDUgNS4xMUMxIDYuMDggMSA3LjAzIDEgOHMwIDEuOTIuMDUgMi44OWMuMDUgMS4xMi4zMSAyLjEyIDEuMTMgMi45M2MuODIuODIgMS44MSAxLjA4IDIuOTMgMS4xM0M2LjA4IDE1IDcuMDMgMTUgOCAxNXMxLjkyIDAgMi44OS0uMDVjMS4xMi0uMDUgMi4xMi0uMzEgMi45My0xLjEzYy44Mi0uODIgMS4wOC0xLjgxIDEuMTMtMi45M2MuMDYtLjk2LjA1LTEuOTIuMDUtMi44OW0tNyAzLjU5Yy0xLjk5IDAtMy41OS0xLjYtMy41OS0zLjU5UzYuMDEgNC40MSA4IDQuNDFzMy41OSAxLjYgMy41OSAzLjU5cy0xLjYgMy41OS0zLjU5IDMuNTltMy43NC02LjQ5Yy0uNDYgMC0uODQtLjM3LS44NC0uODRzLjM3LS44NC44NC0uODRzLjg0LjM3Ljg0Ljg0YS44LjggMCAwIDEtLjI0LjU5YS44LjggMCAwIDEtLjU5LjI0WiIvPjwvc3ZnPg==" alt="">
                    </div>
                </div>

                {% if share.text != '' %}
                <div class="middle">
                    <div class="text">
                        <p>{{share.text}}</p>
                    </div>
                </div>
                {% endif %}

                {% if share.media != '' %}
                <div class="bottom">
                    <div class="media">
                        <img src="/media/{{share.media}}/" alt="">
                    </div>
                </div>
                {% endif %}

            </div>
            </a>
            {% elif share.platform == 'Facebook' %}
            <a href="{{share.link}}" target="_blank">
            <div class="post facebookPost">
                <div class="top">
                    <div class="right">
                        <div class="avatar">
                            <img src="/media/{{share.brand.logo}}/" alt="">
                        </div>
                        <div class="info">
                            <h3>{{share.brand.name}}</h3>
                            <p>{{share.platform}}</p>
                        </div>
                    </div>
                    <div class="left">
                        <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiB2aWV3Qm94PSIwIDAgMTYgMTYiPjxwYXRoIGZpbGw9IiMwMDAwMDAiIGQ9Ik0xNiA4LjA0OWMwLTQuNDQ2LTMuNTgyLTguMDUtOC04LjA1QzMuNTggMC0uMDAyIDMuNjAzLS4wMDIgOC4wNWMwIDQuMDE3IDIuOTI2IDcuMzQ3IDYuNzUgNy45NTF2LTUuNjI1aC0yLjAzVjguMDVINi43NVY2LjI3NWMwLTIuMDE3IDEuMTk1LTMuMTMxIDMuMDIyLTMuMTMxYy44NzYgMCAxLjc5MS4xNTcgMS43OTEuMTU3djEuOThoLTEuMDA5Yy0uOTkzIDAtMS4zMDMuNjIxLTEuMzAzIDEuMjU4djEuNTFoMi4yMThsLS4zNTQgMi4zMjZIOS4yNVYxNmMzLjgyNC0uNjA0IDYuNzUtMy45MzQgNi43NS03Ljk1MSIvPjwvc3ZnPg==" alt="">
                    </div>
                </div>

                {% if share.text != '' %}
                <div class="middle">
                    <div class="text">
                        <p>{{share.text}}</p>
                    </div>
                </div>
                {% endif %}

                {% if share.media != '' %}
                <div class="bottom">
                    <div class="media">
                        <img src="/media/{{share.media}}/" alt="">
                    </div>
                </div>
                {% endif %}

            </div>
            </a>
            {% elif share.platform == 'X' %}
            <a href="{{share.link}}" target="_blank">
            <div class="post xPost">
                <div class="top">
                    <div class="right">
                        <div class="avatar">
                            <img src="/media/{{share.brand.logo}}/" alt="">
                        </div>
                        <div class="info">
                            <h3>{{share.brand.name}}</h3>
                            <p>{{share.platform}}</p>
                        </div>
                    </div>
                    <div class="left">
                        <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiB2aWV3Qm94PSIwIDAgMjU2IDI1NiI+PHBhdGggZmlsbD0iIzAwMDAwMCIgZD0iTTIxNSAyMTkuODVhOCA4IDAgMCAxLTcgNC4xNWgtNDhhOCA4IDAgMCAxLTYuNzUtMy43MWwtNDAuNDktNjMuNjNsLTU4Ljg0IDY0LjcyYTggOCAwIDAgMS0xMS44NC0xMC43Nmw2MS43Ny02OGwtNjIuNi05OC4zMkE4IDggMCAwIDEgNDggMzJoNDhhOCA4IDAgMCAxIDYuNzUgMy43MWw0MC40OSA2My42M2w1OC44NC02NC43MmE4IDggMCAwIDEgMTEuODQgMTAuNzZsLTYxLjc3IDY3Ljk1bDYyLjYgOTguMzhhOCA4IDAgMCAxIC4yNSA4LjE0Ii8+PC9zdmc+" alt="">
                    </div>
                </div>

                {% if share.text != '' %}
                <div class="middle">
                    <div class="text">
                        <p>{{share.text}}</p>
                    </div>
                </div>
                {% endif %}


                {% if share.media != '' %}
                <div class="bottom">
                    <div class="media">
                        <img src="/media/{{share.media}}/" alt="">
                    </div>
                </div>
                {% endif %}
            </div>
            </a>
            {% elif share.platform == 'Tiktok' %}
            <a href="{{share.link}}" target="_blank">
            <div class="post tiktokPost">
                <div class="top">
                    <div class="right">
                        <div class="avatar">
                            <img src="/media/{{share.brand.logo}}/" alt="">
                        </div>
                        <div class="info">
                            <h3>{{share.brand.name}}</h3>
                            <p>{{share.platform}}</p>
                        </div>
                    </div>
                    <div class="left">
                        <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGZpbGw9IiMwMDAwMDAiIGQ9Ik0xMi41MjUuMDJjMS4zMS0uMDIgMi42MS0uMDEgMy45MS0uMDJjLjA4IDEuNTMuNjMgMy4wOSAxLjc1IDQuMTdjMS4xMiAxLjExIDIuNyAxLjYyIDQuMjQgMS43OXY0LjAzYy0xLjQ0LS4wNS0yLjg5LS4zNS00LjItLjk3Yy0uNTctLjI2LTEuMS0uNTktMS42Mi0uOTNjLS4wMSAyLjkyLjAxIDUuODQtLjAyIDguNzVjLS4wOCAxLjQtLjU0IDIuNzktMS4zNSAzLjk0Yy0xLjMxIDEuOTItMy41OCAzLjE3LTUuOTEgMy4yMWMtMS40My4wOC0yLjg2LS4zMS00LjA4LTEuMDNjLTIuMDItMS4xOS0zLjQ0LTMuMzctMy42NS01LjcxYy0uMDItLjUtLjAzLTEtLjAxLTEuNDljLjE4LTEuOSAxLjEyLTMuNzIgMi41OC00Ljk2YzEuNjYtMS40NCAzLjk4LTIuMTMgNi4xNS0xLjcyYy4wMiAxLjQ4LS4wNCAyLjk2LS4wNCA0LjQ0Yy0uOTktLjMyLTIuMTUtLjIzLTMuMDIuMzdjLS42My40MS0xLjExIDEuMDQtMS4zNiAxLjc1Yy0uMjEuNTEtLjE1IDEuMDctLjE0IDEuNjFjLjI0IDEuNjQgMS44MiAzLjAyIDMuNSAyLjg3YzEuMTItLjAxIDIuMTktLjY2IDIuNzctMS42MWMuMTktLjMzLjQtLjY3LjQxLTEuMDZjLjEtMS43OS4wNi0zLjU3LjA3LTUuMzZjLjAxLTQuMDMtLjAxLTguMDUuMDItMTIuMDciLz48L3N2Zz4=" alt="">
                    </div>
                </div>

                {% if share.text != '' %}
                <div class="middle">
                    <div class="text">
                        <p>{{share.text}}</p>
                    </div>
                </div>
                {% endif %}

                {% if share.media != '' %}
                <div class="bottom">
                    <div class="media">
                        <img src="/media/{{share.media}}/" alt="">
                    </div>
                </div>
                {% endif %}
            </div>
            </a>
            {% endif %}


            {% endfor %}
        </div>
    </div>

    
    {% include 'components/footer.html' %}
</div>

<script async src="https://www.instagram.com/embed.js"></script>
<script async src="https://platform.twitter.com/widgets.js"></script>
<script async src="https://www.tiktok.com/embed.js"></script>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Function to replace placeholder with actual embed
    function loadEmbed(placeholder) {
        const embedHtml = placeholder.getAttribute('data-embed');
        const wrapper = document.createElement('div');
        wrapper.innerHTML = embedHtml;
        const embed = wrapper.firstChild;
        
        // For Facebook embeds, we need to parse the XFBML after inserting
        if (embed.tagName === 'IFRAME' && embed.src.includes('facebook.com')) {
            embed.onload = function() {
                if (window.FB) {
                    FB.XFBML.parse(embed.parentNode);
                }
            };
        }
        
        placeholder.parentNode.replaceChild(embed, placeholder);
        
        // Re-run embed scripts
        if (embed.className.includes('instagram-media')) {
            if (window.instgrm) instgrm.Embeds.process();
        } else if (embed.className.includes('twitter-tweet')) {
            if (window.twttr) twttr.widgets.load(embed);
        } else if (embed.className.includes('tiktok-embed')) {
            if (window.TiktokEmbed) TiktokEmbed.reload();
        }
    }

    // Create an Intersection Observer
    const observer = new IntersectionObserver((entries, observer) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                loadEmbed(entry.target);
                observer.unobserve(entry.target);
            }
        });
    }, {rootMargin: '200px'}); // Start loading when within 200px of viewport

    // Replace embeds with placeholders and observe them
    document.querySelectorAll('.embed').forEach(embed => {
        const placeholder = document.createElement('div');
        placeholder.className = 'embed-placeholder';
        placeholder.setAttribute('data-embed', embed.outerHTML);
        placeholder.innerHTML = 'Loading...'; // You can customize this
        embed.parentNode.replaceChild(placeholder, embed);
        observer.observe(placeholder);
    });
});
</script>



<script>
    function initializeEmbeds() {
        // Find all links related to X (Twitter)
        const xLinks = document.querySelectorAll('.x-link');

        // Replace each link's href with the correct Twitter URL
        xLinks.forEach(link => {
            const originalUrl = link.href;
            const newUrl = originalUrl.replace('x.com', 'twitter.com');
            link.href = newUrl;
        });

        // Reload Twitter widgets
        if (window.twttr) {
            window.twttr.widgets.load();
        }

        // Reinitialize Instagram embeds
        if (window.instgrm) {
            window.instgrm.Embeds.process();
        }

        // Reinitialize TikTok embeds
        const tiktokEmbeds = document.querySelectorAll('.tiktok-embed');
        tiktokEmbeds.forEach(embed => {
            const videoId = embed.getAttribute('data-video-id');
            if (videoId) {
                embed.setAttribute('cite', `https://www.tiktok.com/@${videoId}`);
                // You might need to call a function to re-initialize TikTok if it has one
            }
        });
    }

    document.addEventListener('DOMContentLoaded', function() {
        initializeEmbeds();
    });

    // Reinitialize embeds after HTMX transitions
    document.body.addEventListener('htmx:afterSwap', function(event) {
        initializeEmbeds();
    });
</script>

<!-- Embed Scripts (Twitter, Instagram, TikTok) -->
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
<script async src="//www.instagram.com/embed.js"></script>
<script async src="https://www.tiktok.com/embed.js"></script>

</body>
</html>
{% endblock content %}